import{u as C,r as d,f as y,j as r,I as J,S as w,c as B,B as l,L as I,C as m,a as c,b as u,T as h,d as O,W as L,F as b,e as T,R as A,g as j}from"./vendor.246b5dba.js";const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};S();const _="https://www.welcomekit.co/api/v1/embed",N=`${_}?organization_reference=Pg4eV6k`,P=(t,e)=>fetch(t,e).then(n=>n.json()),R=()=>P(N).then(t=>t.jobs),k=(t,e)=>!e||e===""?t:t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())),f=[{value:"department.name",label:"Department name"},{value:"office.name",label:"Office name"},{value:"contract_type.en",label:"Job type"}],M=()=>{const{loading:t,value:e=[]}=C(R),[n,a]=d.exports.useState(f[0]),o=d.exports.useCallback(p=>{a(f.find(v=>v.value===p))},[f]),[s,i]=d.exports.useState(""),x=d.exports.useMemo(()=>{const p=k(e,s);return n?y.groupBy(n.value,p):p},[s,t,n,y.groupBy]);return{query:s,setQuery:i,jobs:x,loading:t,groupedJobsBy:n,groupJobsBy:o,groupJobsByOptions:f}},D=t=>t.websites_urls.find(e=>e.website_reference==="wttj_fr").url,E=({id:t,onChange:e,ariaLabel:n,placeholder:a,value:o})=>{const s=d.exports.useCallback(i=>e(i.target.value),[e]);return r("div",{role:"searchbox",children:r(J,{id:t,"aria-label":n,placeholder:a,icon:r(w,{}),isClearable:!0,onChange:s,value:o})})},F=B(),G=({loading:t,children:e})=>r(l,{display:"flex",paddingTop:"xl",paddingBottom:"xl",children:t?r(l,{flex:1,display:"flex",role:"status",alignItems:"center",justifyContent:"center",children:r(I,{size:"md",color:"primary.500"})}):e}),U=({name:t,type:e,office:n,applyUrl:a})=>r(m,{role:"section",children:r(m.Body,{children:c(u,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[c(u,{children:[r(h,{variant:"h4",as:"span",children:t}),r(h,{variant:"body1",as:"span",children:e}),r(h,{variant:"body1",as:"span",children:n})]}),r(O,{as:"a",href:a,target:"_blank",children:"Apply"})]})})}),g=({jobs:t})=>r(u,{dataTestId:"job-list",flex:1,children:t.map((e,n)=>r(U,{id:e.id,"aria-rowindex":n,name:e.name,type:e.contract_type.en,office:e.office.name,applyUrl:D(e)},e.id))}),z=({jobsGroups:t})=>r(u,{dataTestId:"grouped-job-list",flex:1,children:Object.entries(t).map(([e,n])=>c(u,{role:"section",dataTestId:"job-group",children:[r(h,{variant:"h2",children:e}),r(g,{jobs:n})]},e))}),Q=({children:t})=>r(l,{display:"grid",gridTemplateRows:"min-content 1fr",gridTemplateColumns:"1fr",padding:"xxl",h:"100vh",children:t}),W=()=>{const{query:t,setQuery:e,jobs:n,loading:a,groupedJobsBy:o,groupJobsBy:s,groupJobsByOptions:i}=M();return r(L,{theme:F,children:c(Q,{children:[c(l,{display:"flex",children:[r(l,{flex:2,marginRight:"sm",children:r(b,{label:"Your dream job ?",children:r(E,{ariaLabel:"search for your dream job",onChange:e,value:t,placeholder:"Operations & Strategy, Communications Manager..."})})}),r(l,{flex:1,children:r(b,{label:"Group results by",children:r(T,{name:"group-by",id:"group-by",placeholder:"None",value:o,onChange:s,options:i,isClearable:!0})})})]}),c(G,{loading:a,children:[Array.isArray(n)&&r(g,{jobs:n}),!Array.isArray(n)&&r(z,{jobsGroups:n})]})]})})};A.render(r(j.StrictMode,{children:r(W,{})}),document.getElementById("root"));
